
<div style="height: 100%;"  class="card">
  <button mat-raised-button routerLink="/template">Back</button>
<mat-stepper [linear]="isLinear" #stepper>
  <div class="card">
    <mat-step [stepControl]="firstFormGroup" label="Enter the first step" style="height: 900px;"  >
<form [formGroup]="firstFormGroup">

  <div>
    <label>Title</label>
    <mat-form-field>
      <input matInput type="text" formControlName="title">
    </mat-form-field>
  </div>



  <div class="col-md-6 pr-1">
    <label>Marketing Creatives</label>
      <mat-form-field>
        <div>
          <mat-toolbar>
            <!-- Display files names -->
            <input matInput [(ngModel)]="fileAttr" style="visibility:hidden;" readonly name="name" />
            <!-- Browse Button -->
            <button mat-flat-button color="primary" >Browse File</button>
          </mat-toolbar>
          <input
            type="file"
            #fileInput
            id="uploadFile"
            (change)="uploadFileEvt($event)"
            name="uploadFile"
            multiple="multiple"
            accept="image/*"
          />
        </div>
      </mat-form-field>
      </div>
      <label>Event  Date</label>
      <mat-form-field>
    
        <input matInput [ngxMatDatetimePicker]="pickerFrom" placeholder="Event Start date" formControlName="start_at">
    
        <mat-datepicker-toggle matSuffix [for]="pickerFrom"></mat-datepicker-toggle>
    
        <ngx-mat-datetime-picker #pickerFrom [enableMeridian]="true"></ngx-mat-datetime-picker>
    </mat-form-field>
    
    <mat-form-field>
        <input matInput [ngxMatDatetimePicker]="pickerTo" placeholder="Event End date" formControlName="end_at"
          [min]="test">
    
        <mat-datepicker-toggle matSuffix [for]="pickerTo"></mat-datepicker-toggle>
    
        <ngx-mat-datetime-picker #pickerTo [enableMeridian]="true"></ngx-mat-datetime-picker>
    </mat-form-field>
     
      
       
      <!--       <div class="form-group">
              <label>Event Position</label>
              <input type="text"  placeholder="Company" value=".">
            </div> -->
    
            <div>
              
            </div>
    
            <div class="form-group">
    
                </div>
    
    
                <div class="form-group">
                  <label>Event Staff</label>
                  <ng-multiselect-dropdown  style="width: 80%; height: 200px; background-color: #f7f9fc;
                  border-color: #e4e9f2;
                  color: #222b45; margin-left: 260px;"
                   [placeholder]="'Select Event Staff'"
                   formControlName="event_users"
                    [settings]="dropdownSettings"
                   [data]="dropdownList" >
               </ng-multiselect-dropdown> 
                    </div>
    
    
                    <div class="form-group">
                      <label>Event Admin</label>
                      <ng-multiselect-dropdown  style="width: 80%; height: 200px; background-color: #f7f9fc;
                      border-color: #e4e9f2;
                      color: #222b45; margin-left: 260px;"
                       [placeholder]="'Select Event Admin'"
                        [settings]="dropdownSettings1"
                        formControlName="event_users_staff"
                       [data]="dropdownList1" >
                   </ng-multiselect-dropdown> 
                        </div>
    
                        <div>
                          <label>Show in App</label>
                          <mat-slide-toggle></mat-slide-toggle>
                        </div>
      </form>
    
      <button matStepperNext class="btn btn-primary btn-round"   (click)="firstStep()" >Next</button>
       
     
     
    </mat-step>
  </div>
    <mat-step [stepControl]="secondFormGroup" label="Enter the Second Step">
      <form [formGroup]="secondFormGroup">

        <mat-chip-list
  class="example-chip">
  <mat-chip
    class="example-box"
    *ngFor="let vegetable of vegetables">
    {{vegetable.name}}
  </mat-chip>
</mat-chip-list>


        <div>
          <button mat-button matStepperPrevious>Back</button>
          <button mat-button matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step>
<form [formGroup]="thirdFormGroup" >


  <div class="form-group row" formArrayName="prizes">
    <label>
      Event Prize
    </label>

    <div class="col-sm-9" style="gap:1rem">
      <div *ngFor="let quantity of prizes().controls; let stepIndex = index">

        <div [formGroupName]="stepIndex" style="display: flex; gap:1rem;">
          <div>
            <label>Position</label>
            <mat-form-field appearance="outline">
              <input matInput type="number" formControlName="position">

            </mat-form-field>
          </div>
          <div>
            <label>Max</label>
            <mat-form-field appearance="outline">
              <input matInput type='number' formControlName="max">
              
            </mat-form-field>
          </div>
          <div>
            <label>Code</label>
            <mat-form-field appearance="outline">
              <input matInput type="text" formControlName="code">
              
            </mat-form-field>
          </div>

          <div >
            <mat-icon style="margin-top: 30px; "
              (click)="removePrizes(stepIndex)"
              class="icons"
              >delete_forever</mat-icon
            >
            </div>

        </div>
        

      </div>

    </div>

  </div>


      <div class="form-group row" formArrayName="options">
        <label for="inputEmail1" class=""
          >Event Timeline</label
        >

        <div class="col-sm-9">
          <div
            *ngFor="let quantity of options().controls; let stepIndex = index"
          >
            <div [formGroupName]="stepIndex" style="display: flex; gap: 1rem;">
              <div>
                <label>Start date</label>
                <mat-form-field  class="form-group" appearance="outline">
                  <input matInput [ngxMatDatetimePicker]="picker"  placeholder="Choose a date & time" formControlName='start_at'>
                  
                  <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              
                  <ngx-mat-datetime-picker #picker></ngx-mat-datetime-picker>
              </mat-form-field>
              </div>
          
              <div>
                <label>End date</label>
                <mat-form-field  class="form-group" appearance="outline">
                  <input matInput [ngxMatDatetimePicker]="picker1" placeholder="Choose a date & time" formControlName='end_at'>
                  
                  <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
              
                  <ngx-mat-datetime-picker #picker1></ngx-mat-datetime-picker>
              </mat-form-field>
              </div>
          <div>
            <label>location</label>
            <mat-form-field class="form-group" appearance="outline">
              <input
              matInput
                type="text"
                formControlName="location"
                placeholder="location {{ stepIndex + 1 }}"
              
              />
              </mat-form-field>
            </div>
            <div>
            <label>title</label>
              <mat-form-field class="form-group" appearance="outline" >
              <input
              matInput
                type="text"
                formControlName="title"
                placeholder="title {{ stepIndex + 1 }}"
              
              />
            </mat-form-field>
          </div>
          <div >
              <mat-icon style="margin-top: 41px;"
                (click)="removeQuantity(stepIndex)"
                class="icons"
                >delete_forever</mat-icon
              >
              </div>
            </div>
            <br />
          </div>
        </div>
      </div>
    </form>

      <button
      type="submit"
      (click)="addQuantity()"
      mat-raised-button
      status="primary"
     style="margin-right:10px">
      Add Timeline</button>

      <button
      type="submit"
      (click)="addPrizes()"
      mat-raised-button
      status="primary"
    >
      Add Prizes</button>


     
      <ng-template matStepLabel>Enter the third Step</ng-template>
      <div>
        <button mat-button matStepperPrevious>Back</button>
        <button mat-button (click)="stepper.reset()">Reset</button>
        <button mat-raised-button matStepperNext color="primary">Next</button>
      </div>
    </mat-step>

    <mat-step>
      <form [formGroup]="fourthFormGroup">
        <div class="row">
       <div style="display:flex; gap: 1rem;">

       <div>
        <label>What's app Notification</label>
        <mat-slide-toggle formControlName="whats_up_notification"></mat-slide-toggle>
      </div>

      <div>
        <label>SMS Notification</label>
        <mat-slide-toggle formControlName="phone"></mat-slide-toggle>
      </div>


      <div>
        <label>App Notification</label>
        <mat-slide-toggle formControlName="app_notification"></mat-slide-toggle>
      </div>
    </div>
      
          </div>

          <div >
            <div>
              <div>
                <label>Title</label>
                <mat-form-field>
                <input matInput type="text"  placeholder="title" formControlName='title' >
              </mat-form-field>
              </div>
            </div>
          </div>
      
          <div >
            <div>
              <div>
                <label>Frequency</label>
                <mat-form-field>
                <input matInput type="number"  placeholder="frequency" formControlName="frequency">
              </mat-form-field>
              </div>
            </div>
          </div>
          <div>
            <label>Campaign Start date</label>
            <mat-form-field>
              <input matInput [ngxMatDatetimePicker]="picker" placeholder="Choose a date & time" formControlName="start_at">
              
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          
              <ngx-mat-datetime-picker #picker></ngx-mat-datetime-picker>
          </mat-form-field>
          </div>

          <div>
            <label>Campaign End date</label>
            <mat-form-field>
              <input matInput [ngxMatDatetimePicker]="picker1" placeholder="Choose a date & time" formControlName="end_at">
              
              <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
          
              <ngx-mat-datetime-picker #picker1></ngx-mat-datetime-picker>
          </mat-form-field>
          </div>
      
      
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <label>Description</label>
                <textarea class="form-control textarea" formControlName="description">Normal Data </textarea>
              </div>
            </div>
          </div>
        </form>
    <ng-template matStepLabel>Done</ng-template>
    <div>
      <button mat-button matStepperPrevious>Back</button>
      <button mat-button (click)="stepper.reset()">Reset</button>
      <button mat-raised-button (click)="fourthFormGroupData()" color="primary">create event</button>
    </div>
  </mat-step>
  </mat-stepper> 
  </div>